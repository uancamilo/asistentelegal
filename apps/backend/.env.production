# ==========================================
# AsistenciaLegal - Production Environment
# ==========================================
#
# ⚠️ CRITICAL SECURITY WARNING:
# This file contains production-specific configuration.
# DO NOT commit this file with real values!
#
# When deploying:
# 1. Copy this file as reference
# 2. Set variables in your hosting provider's dashboard
#    (Railway Variables, Vercel Env Vars, etc.)
# 3. NEVER commit actual production secrets
# ==========================================

# ==========================================
# DATABASE
# ==========================================
# Use your production PostgreSQL (Neon, AWS RDS, etc.)
DATABASE_URL=postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require&connection_limit=10

# ==========================================
# ADMIN CREDENTIALS (Initial setup only)
# ==========================================
# Generate with: openssl rand -base64 24
ADMIN_EMAIL=admin@yourcompany.com
ADMIN_PASSWORD=GENERATE_NEW_PASSWORD_HERE
SECONDARY_ADMIN_PASSWORD=GENERATE_NEW_PASSWORD_HERE
EDITOR_PASSWORD=GENERATE_NEW_PASSWORD_HERE

# ==========================================
# APPLICATION
# ==========================================
PORT=8080
NODE_ENV=production

# ==========================================
# CORS CONFIGURATION (CRITICAL!)
# ==========================================
# ⚠️ SECURITY REQUIREMENTS FOR PRODUCTION:
# 1. NO wildcards (*) - Use specific domains only
# 2. NO HTTP - HTTPS only
# 3. NO localhost - Production domains only
#
# Examples:
#   ✅ CORS_ORIGIN=https://yourapp.vercel.app
#   ✅ CORS_ORIGIN=https://app.yourdomain.com,https://admin.yourdomain.com
#   ❌ CORS_ORIGIN=http://192.168.*.*:3000 (INSECURE!)
#   ❌ CORS_ORIGIN=http://localhost:3000 (WRONG!)
#   ❌ CORS_ORIGIN=https://*.yourdomain.com (WILDCARDS NOT ALLOWED!)

CORS_ORIGIN=https://yourfrontend.vercel.app
FRONTEND_URL=https://yourfrontend.vercel.app

# ==========================================
# JWT CONFIGURATION
# ==========================================
# Generate with: openssl rand -base64 32
# MUST be different from each other!
JWT_SECRET=GENERATE_WITH_openssl_rand_base64_32
JWT_EXPIRATION=15m
JWT_REFRESH_SECRET=GENERATE_DIFFERENT_VALUE_HERE
JWT_REFRESH_EXPIRATION=7d

# ==========================================
# REDIS (Highly Recommended)
# ==========================================
# Use managed Redis service
# Railway: Built-in addon
# Upstash: Serverless Redis
REDIS_URL=redis://default:xGvILrVMJmhvyQZeEUDer57YVpbp2aMb@redis-19868.c9.us-east-1-2.ec2.cloud.redislabs.com:19868

# ==========================================
# OPENAI
# ==========================================
OPENAI_API_KEY=sk-...
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# ==========================================
# FILE STORAGE (Use S3 in production!)
# ==========================================
STORAGE_TYPE=s3
MAX_FILE_SIZE=52428800
ALLOWED_MIME_TYPES=application/pdf

# AWS S3 or compatible (Cloudflare R2, etc.)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=yourapp-documents-prod

# ==========================================
# BULL QUEUE
# ==========================================
QUEUE_PDF_CONCURRENCY=2
QUEUE_MAX_RETRIES=3

# ==========================================
# DEPLOYMENT CHECKLIST
# ==========================================
# Before deploying, verify:
# ✅ NODE_ENV=production
# ✅ CORS_ORIGIN uses HTTPS (no HTTP)
# ✅ CORS_ORIGIN has NO wildcards (*)
# ✅ All secrets generated with openssl
# ✅ JWT_SECRET ≠ JWT_REFRESH_SECRET
# ✅ Redis configured
# ✅ S3 storage configured
# ✅ Database migrations applied: npx prisma migrate deploy
# ==========================================
